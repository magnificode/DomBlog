<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">
  <meta name="description" content="With the increasing support for the feature detection @supports CSS property, I figured it might be a cool idea to dive into this feature a little bit. While...">
  <meta name=viewport content="width=device-width, initial-scale=1">
<meta content="Dominic Magnifico" property="og:site_name">

  <meta content="The Case for (or against) the CSS @supports rule" property="og:title">


  <meta content="article" property="og:type">


  <meta content="Dominic Magnifico | Front End Developer
" property="og:description">


  <meta content="https://dommagnifi.co/2017/03/06/the-case-for-or-against-the-supports-rule.html" property="og:url">


  <meta content="2017-03-06T00:00:00-07:00" property="article:published_time">
  <meta content="https://dommagnifi.co/about/" property="article:author">


  <meta content="/images/logo.png" property="og:image">


  


  


  <title>The Case for (or against) the CSS @supports rule</title>

  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://dommagnifi.co/2017/03/06/the-case-for-or-against-the-supports-rule.html">
  <link rel="alternate" type="application/rss+xml" title="Dominic Magnifico" href="https://dommagnifi.co/feed.xml" />
  <link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,700" rel="stylesheet">

  <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsOb  ect']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-43739046-1', 'dommagnifi.co');
	  ga('send', 'pageview');

   </script>
</head>


  <body>

    <header class="site-header">
	<h1><a href="/">Dominic Magnifico</a></h1>
	<nav class="header__nav">
		<a  href="/about">About</a><a  href="/work">Work</a><a  href="/resume">R&eacute;sum&eacute;</a>
	</nav>
	<div class="header__social">
          
            <a href="https://github.com/magnificode" target="_blank">
                <svg viewBox="0 0 16 16">
                  <path d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
            </a>
          
          
            <a href="https://twitter.com/magnificode" target="_blank">
                <svg viewBox="0 0 16 16">
                  <path d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
            </a>
          
          <a href="https://codepen.io/magnificode" target="_blank">
                <svg viewBox="0 0 100 100">
                  <path d="M50 .5C22.6.5.3 22.7.3 50S22.6 99.5 50 99.5c27.4 0 49.7-22.2 49.7-49.5S77.4.5 50 .5zm0 90.9C27.1 91.4 8.5 72.8 8.5 50S27.1 8.6 50 8.6 91.5 27.2 91.5 50 72.9 91.4 50 91.4zM80.7 40.3v-.4c0-.1 0-.1-.1-.2 0 0 0-.1-.1-.1 0-.1-.1-.1-.1-.2l-.1-.1c0-.1-.1-.1-.1-.2l-.1-.1-.1-.1-.1-.1-.1-.1-.1-.1-28.2-18.8c-.9-.6-2-.6-2.9 0L20.5 38.5l-.1.1c-.1 0-.1.1-.1.1l-.1.1-.1.1-.1.1c0 .1-.1.1-.1.2l-.1.1c0 .1-.1.1-.1.2 0 0 0 .1-.1.1 0 .1 0 .1-.1.2v20.1c0 .1 0 .1.1.2 0 0 0 .1.1.1 0 .1.1.1.1.2 0 0 0 .1.1.1 0 .1.1.1.1.2l.1.1.1.1.1.1.1.1.1.1 28.1 18.7c.4.3 1 .4 1.5.4s1-.1 1.5-.4l28.1-18.7.1-.1c.1 0 .1-.1.1-.1l.1-.1.1-.1.1-.1c0-.1.1-.1.1-.2l.1-.1c0-.1.1-.1.1-.2 0 0 0-.1.1-.1 0-.1 0-.1.1-.2V40.3zM52.6 26.9l20.7 13.7-9.2 6.2-11.4-7.6V26.9zm-5.2 0v12.3L36 46.8l-9.2-6.2 20.6-13.7zM24.6 45.6l6.6 4.4-6.6 4.4v-8.8zm22.8 27.5L26.7 59.3l9.2-6.2 11.4 7.6v12.4zM50 56.2L40.7 50l9.3-6.2 9.3 6.2-9.3 6.2zm2.6 16.9V60.8L64 53.2l9.2 6.2-20.6 13.7zm22.8-18.7L68.8 50l6.6-4.4v8.8z"></path>
                </svg>
            </a>
      </div>
</header>


    <div class="post">
<div class="post__inner">
	  <header class="post-header">
			<p class="post-meta"><span class="post-posted">March 6, 2017</span></p>
	    <h1 class="post-title">The Case for (or against) the CSS @supports rule</h1>
	  </header>

	  <article class="post-content">
	    <p>With the increasing support for the feature detection <code class="highlighter-rouge">@supports</code> CSS property, I figured it might be a cool idea to dive into this feature a little bit. While listening to <a href="http://shoptalkshow.com/episodes/253-rapidfire-84/">Episode 253</a> of ShopTalk show, Mr. Chris Coyier mentioned possibly a GitHub repo or blog post that has some pre-baked use cases for the <code class="highlighter-rouge">@supports</code> property, and here we are!</p>

<p>Here’s a quick little description about what the <code class="highlighter-rouge">@supports</code> property does; Essentially, <code class="highlighter-rouge">@supports</code> works just like a media query, but detects certain features, rather than viewport dimensions, media types, etc. A feature query more or less. Using <code class="highlighter-rouge">@supports</code> in <a href="http://caniuse.com/#feat=css-featurequeries">browsers that support it</a> (Everything except for IE11 and lower at this point) gives us the ability to check wether or not a feature is supported in that particular browser. If it is, the subsequent CSS rules are enforced. If the browser does not support the property, it will just ignore the rule altogether, no harm, no foul.</p>

<p>The theory is that this would give us an opportunity to conditionally apply CSS based on browser support. A neat thought for sure, but in researching for this blog post, I had a hard time coming up with a solid set of recipes for the rule. Let’s run through some of the basic scenarios that crossed my mind first.</p>

<h2 id="supportsdisplay-flexbox"><code class="highlighter-rouge">@supports(display: flexbox)</code></h2>

<p>Alright, so a colleague of yours just sent you an awesome design. Nice grid layout. Time to <strong>flex</strong> your CSS muscles and use some flexbox. But oh no! The accounts team just informed you that you have to support IE9. Well shoot, let’s play out how this scenario could go utilizing the <code class="highlighter-rouge">@supports</code> rule. Lets use the classic use case for flexbox; You have multiple things (<code class="highlighter-rouge">.thing</code>) with a heading and description inside. The description text length is variable, and you want to make sure all the <code class="highlighter-rouge">.thing</code>s are the same height, regardless of content length. Maybe something like this:</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code>
  <span class="nc">.thing</span> <span class="p">{</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="mh">#efefef</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>

    <span class="c1">// Fallback for IE9 if browser
</span>    <span class="c1">// doesn't support flexbox.
</span>    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">calc</span><span class="p">(</span><span class="m">33</span><span class="mi">.333333%</span> <span class="o">-</span> <span class="m">20px</span><span class="p">);</span>

    <span class="nt">h2</span> <span class="p">{</span>
      <span class="nl">color</span><span class="p">:</span> <span class="mh">#2b2b2b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.description</span> <span class="p">{</span>
      <span class="nl">font-size</span><span class="p">:</span> <span class="m">1rem</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Insert fanciness here
</span>  <span class="k">@supports</span> <span class="o">(</span><span class="nt">display</span><span class="nd">:</span> <span class="nt">flexbox</span><span class="o">)</span> <span class="p">{</span>
    <span class="nc">.thing-wrapper</span> <span class="p">{</span>
      <span class="nl">align-items</span><span class="p">:</span> <span class="n">stretch</span><span class="p">;</span>
      <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
      <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.thing</span> <span class="p">{</span>
      <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">1</span> <span class="m">33</span><span class="mi">.333333%</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

</code></pre>
</div>

<p>Awesome! That looks like a solid use case for <code class="highlighter-rouge">@supports</code>. We’ve got a percentage width, and a float applied to the <code class="highlighter-rouge">.thing</code> as a fallback for if flexbox is not supported. 👍</p>

<p>However, to play devils advocate here, what’s to stop us from just doing this:</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code>
  <span class="nc">.thing-wrapper</span> <span class="p">{</span>
    <span class="nl">align-items</span><span class="p">:</span> <span class="n">stretch</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
    <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nc">.thing</span> <span class="p">{</span>
    <span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="mh">#efefef</span><span class="p">;</span>
    <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">1</span> <span class="m">33</span><span class="mi">.333333%</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>

    <span class="c1">//IE9 support
</span>    <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">calc</span><span class="p">(</span><span class="m">33</span><span class="mi">.333333%</span> <span class="o">-</span> <span class="m">60px</span><span class="p">);</span>

    <span class="nt">h2</span> <span class="p">{</span>
      <span class="nl">color</span><span class="p">:</span> <span class="mh">#2b2b2b</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.description</span> <span class="p">{</span>
      <span class="nl">font-size</span><span class="p">:</span> <span class="m">1rem</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

</code></pre>
</div>

<p>The <code class="highlighter-rouge">.thing-wrapper</code> properties will be ignored, as IE9 doesn’t recognize them, and the float and width properties will be ignored on newer browsers, as the <code class="highlighter-rouge">display: flex</code> property takes over. Now, organizationally, it might be nice to throw those properties that older browsers don’t support into a nice block. But functionally, the benefit seems a bit limited.</p>

<h2 id="hello-operators">Hello Operators</h2>

<p>Let’s try another example. The <code class="highlighter-rouge">@support</code> rule also accepts a few additional operators: <code class="highlighter-rouge">not</code>, <code class="highlighter-rouge">and</code>, and <code class="highlighter-rouge">or</code>. You can chain these operators to get some fancy results. For example, you can tell tell the <code class="highlighter-rouge">@support</code> rule to fire when a browser does not support a CSS property.</p>

<p>Let’s say we want to try out some awesome fancy CSS variables (not utilizing SCSS as my example above does). If the browser does not support CSS variables, then fire off some CSS to compensate.</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code>
  <span class="k">@supports</span> <span class="n">not</span> <span class="p">(</span><span class="n">--color-1</span><span class="p">:</span> <span class="m">#c0ffee</span><span class="p">)</span> <span class="p">{</span>
    <span class="nc">.coffee</span> <span class="p">{</span>
      <span class="nl">color</span><span class="p">:</span> <span class="m">#c0ffee</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

</code></pre>
</div>

<p>A basic example, but it gets the job done. What we’re saying here is if the browser does <em>not</em> support the use of CSS variables, apply the color directly to the coffee div. This sounds pretty good, but now we have to consider if the browsers this declaration will apply to, even support the <code class="highlighter-rouge">@supports</code> rule. If the browser does not support the <code class="highlighter-rouge">@supports</code> rule to begin with, this chunk of code will get skipped over, and our coffee div will not get the styling we defined within.</p>

<p>For this specific example, CSS variables <a href="http://caniuse.com/#feat=css-variables">are not supported</a> in Edge v14. However the <code class="highlighter-rouge">@supports</code> rule is. Therefore, this chunk of code will work! Which is great, this definitely seems like a decent use case in this specific scenario.</p>

<h2 id="additional-scenarios">Additional Scenarios</h2>

<p>To try to remain as unbiased as I could after these two original thoughts, I also ran through a few more scenarios that I won’t go into as verbosely as I did in the two above.</p>

<p>I tried to find some benefit in the use of the rule for CSS keyframes, which ended with the same issues I had with our first flexbox example. I checked out the new <code class="highlighter-rouge">display: flow-root</code> property coming down the line (It’s <a href="https://css-tricks.com/display-flow-root/">a neat property</a> that replaces the long standing clearfix). This was a good case for the <code class="highlighter-rouge">not</code> operator, much like our CSS variable example. And lastly I checked out the use case for CSS 3D transforms. And much like our flexbox example, found the same issues.</p>

<h2 id="tldr">TL;DR</h2>

<p>The bottom line here I think, is that the idea of the <code class="highlighter-rouge">@supports</code> rule was a fantastic one in the days of yore, when browser support for various CSS properties was a vast, convoluted mess. But today, browser vendors are beginning to support properties at roughly the same time. And even if they don’t, it’s not as if the same logic JavaScript follows, applies here. If a browser doesn’t recognize a CSS property, it skips over it and moves on. There’s no perceived performance benefit to utilizing the <code class="highlighter-rouge">@supports</code> rule as far as I can tell. There are certainly a few good cases to utilize <code class="highlighter-rouge">@supports</code> and the <code class="highlighter-rouge">not</code> operator. Especially for older versions of Edge that don’t support things like CSS variables. However, to me, the <code class="highlighter-rouge">@supports</code> rule seems mostly cosmetic, and provides a clean way to organize CSS properties that your current project’s browser requirements may not allow for you to utilize.</p>

	  </article>
  </div>

</div>


    <p class="rss-subscribe">subscribe <a href="https://dommagnifi.co/feed.xml">via RSS</a></p>

<!-- <script src="https://dommagnifi.co/app.js"></script> -->

  </body>
</html>
