{"data":{"markdownRemark":{"html":"<p>With the increasing support for the feature detection <code class=\"language-text\">@supports</code> CSS property, I figured it might be a cool idea to dive into this feature a little bit. While listening to <a href=\"http://shoptalkshow.com/episodes/253-rapidfire-84/\">Episode 253</a> of ShopTalk show, Mr. Chris Coyier mentioned possibly a GitHub repo or blog post that has some pre-baked use cases for the <code class=\"language-text\">@supports</code> property, and here we are!</p>\n<p>Here's a quick little description about what the <code class=\"language-text\">@supports</code> property does; Essentially, <code class=\"language-text\">@supports</code> works just like a media query, but detects certain features, rather than viewport dimensions, media types, etc. A feature query more or less. Using <code class=\"language-text\">@supports</code> in <a href=\"http://caniuse.com/#feat=css-featurequeries\">browsers that support it</a> (Everything except for IE11 and lower at this point) gives us the ability to check wether or not a feature is supported in that particular browser. If it is, the subsequent CSS rules are enforced. If the browser does not support the property, it will just ignore the rule altogether, no harm, no foul.</p>\n<p>The theory is that this would give us an opportunity to conditionally apply CSS based on browser support. A neat thought for sure, but in researching for this blog post, I had a hard time coming up with a solid set of recipes for the rule. Let's run through some of the basic scenarios that crossed my mind first.</p>\n<h2><code class=\"language-text\">@supports(display: flexbox)</code></h2>\n<p>Alright, so a colleague of yours just sent you an awesome design. Nice grid layout. Time to <strong>flex</strong> your CSS muscles and use some flexbox. But oh no! The accounts team just informed you that you have to support IE9. Well shoot, let's play out how this scenario could go utilizing the <code class=\"language-text\">@supports</code> rule. Lets use the classic use case for flexbox; You have multiple things (<code class=\"language-text\">.thing</code>) with a heading and description inside. The description text length is variable, and you want to make sure all the <code class=\"language-text\">.thing</code>s are the same height, regardless of content length. Maybe something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\">  <span class=\"token selector\">.thing </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 2px solid #efefef<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Fallback for IE9 if browser</span>\n    <span class=\"token comment\">// doesn't support flexbox.</span>\n    <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span>33.333333% <span class=\"token operator\">-</span> 20px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token selector\">h2 </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #2b2b2b<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token selector\">.description </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1rem<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Insert fanciness here</span>\n  <span class=\"token atrule\"><span class=\"token rule\">@supports</span> <span class=\"token punctuation\">(</span><span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flexbox<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">.thing-wrapper </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> stretch<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token selector\">.thing </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 1 33.333333%<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Awesome! That looks like a solid use case for <code class=\"language-text\">@supports</code>. We've got a percentage width, and a float applied to the <code class=\"language-text\">.thing</code> as a fallback for if flexbox is not supported. üëç</p>\n<p>However, to play devils advocate here, what's to stop us from just doing this:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\">  <span class=\"token selector\">.thing-wrapper </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> stretch<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">.thing </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 2px solid #efefef<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">flex</span><span class=\"token punctuation\">:</span> 0 1 33.333333%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//IE9 support</span>\n    <span class=\"token property\">float</span><span class=\"token punctuation\">:</span> left<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span>33.333333% <span class=\"token operator\">-</span> 60px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token selector\">h2 </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #2b2b2b<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token selector\">.description </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1rem<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>The <code class=\"language-text\">.thing-wrapper</code> properties will be ignored, as IE9 doesn't recognize them, and the float and width properties will be ignored on newer browsers, as the <code class=\"language-text\">display: flex</code> property takes over. Now, organizationally, it might be nice to throw those properties that older browsers don't support into a nice block. But functionally, the benefit seems a bit limited.</p>\n<h2>Hello Operators</h2>\n<p>Let's try another example. The <code class=\"language-text\">@support</code> rule also accepts a few additional operators: <code class=\"language-text\">not</code>, <code class=\"language-text\">and</code>, and <code class=\"language-text\">or</code>. You can chain these operators to get some fancy results. For example, you can tell tell the <code class=\"language-text\">@support</code> rule to fire when a browser does not support a CSS property.</p>\n<p>Let's say we want to try out some awesome fancy CSS variables (not utilizing SCSS as my example above does). If the browser does not support CSS variables, then fire off some CSS to compensate.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">  <span class=\"token atrule\"><span class=\"token rule\">@supports</span> not <span class=\"token punctuation\">(</span><span class=\"token property\">--color-1</span><span class=\"token punctuation\">:</span> #c0ffee<span class=\"token punctuation\">)</span></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token selector\">.coffee</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #c0ffee<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>A basic example, but it gets the job done. What we're saying here is if the browser does <em>not</em> support the use of CSS variables, apply the color directly to the coffee div. This sounds pretty good, but now we have to consider if the browsers this declaration will apply to, even support the <code class=\"language-text\">@supports</code> rule. If the browser does not support the <code class=\"language-text\">@supports</code> rule to begin with, this chunk of code will get skipped over, and our coffee div will not get the styling we defined within.</p>\n<p>For this specific example, CSS variables <a href=\"http://caniuse.com/#feat=css-variables\">are not supported</a> in Edge v14. However the <code class=\"language-text\">@supports</code> rule is. Therefore, this chunk of code will work! Which is great, this definitely seems like a decent use case in this specific scenario.</p>\n<h2>Additional Scenarios</h2>\n<p>To try to remain as unbiased as I could after these two original thoughts, I also ran through a few more scenarios that I won't go into as verbosely as I did in the two above.</p>\n<p>I tried to find some benefit in the use of the rule for CSS keyframes, which ended with the same issues I had with our first flexbox example. I checked out the new <code class=\"language-text\">display: flow-root</code> property coming down the line (It's <a href=\"https://css-tricks.com/display-flow-root/\">a neat property</a> that replaces the long standing clearfix). This was a good case for the <code class=\"language-text\">not</code> operator, much like our CSS variable example. And lastly I checked out the use case for CSS 3D transforms. And much like our flexbox example, found the same issues.</p>\n<h2>TL;DR</h2>\n<p>The bottom line here I think, is that the idea of the <code class=\"language-text\">@supports</code> rule was a fantastic one in the days of yore, when browser support for various CSS properties was a vast, convoluted mess. But today, browser vendors are beginning to support properties at roughly the same time. And even if they don't, it's not as if the same logic JavaScript follows, applies here. If a browser doesn't recognize a CSS property, it skips over it and moves on. There's no perceived performance benefit to utilizing the <code class=\"language-text\">@supports</code> rule as far as I can tell. There are certainly a few good cases to utilize <code class=\"language-text\">@supports</code> and the <code class=\"language-text\">not</code> operator. Especially for older versions of Edge that don't support things like CSS variables. However, to me, the <code class=\"language-text\">@supports</code> rule seems mostly cosmetic, and provides a clean way to organize CSS properties that your current project's browser requirements may not allow for you to utilize.</p>","fields":{"title":"The Case for (or against) the CSS @supports rule","date":"18 February, 2019"}}},"pageContext":{"slug":"/2017-03-06-the-case-for-or-against-the-supports-rule/"}}